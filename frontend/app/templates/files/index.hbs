<p>
{{upload-with-progress url="/files" onUpload=(route-action "fileUploaded")}}
</p>
<br/>

{{#filter-panel as |currentFilter|}}
  {{#file-list files=model filter=currentFilter as |f|}}

    {{#file-view 
        routeObject=f
        fileName=f.fileName
        fileType=f.fileType
        uploadedOn=f.uploadedOn
        jobs=f.jobs
        processButtonText="Run"
        onFileTypeChange=(route-action "changeFileType" f)
        fileRunCommand=(route-action "startProcessFile" f)
      }}

      {{#if (eq f.fileType "fasta")}}
        {{predict-structure-options-form}}
      {{else if (eq f.fileType "structure")}}
        {{graph-options-form}}
      {{else}}
        Please select a command to configure options
      {{/if}}

    {{/file-view}}

  {{/file-list}}
{{/filter-panel}}
